generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "mysql"
}


model RumijaKelas {
  id               Int       @id @default(autoincrement())
  name             String
  kode            String
  created_at      DateTime  @default(now())
  updated_at      DateTime  @updatedAt

  rumijas Rumija[]
}

model RumijaType {
  id               Int       @id @default(autoincrement())
  name             String
  kode            String
  created_at      DateTime  @default(now())
  updated_at      DateTime  @updatedAt

  RumijaInventaris RumijaInventaris[]
  rumijas Rumija[]
}


model Rumija {
  id               Int       @id @default(autoincrement())
  no_izin          String
  name             String
  alamat          String
  luas            Float
  ruas_id             Int
  segment_jalan       String
  lat_awal            Float
  long_awal           Float
  uptd_id             Int
  uraian            String
  tanggal_izin        DateTime @db.Date
  tanggal_expired      DateTime @db.Date
  rumija_type_id      Int
  rumija_kelas_id     Int
  foto            String
  video           String
  created_at      DateTime  @default(now())
  updated_at      DateTime  @updatedAt

  RumijaType      RumijaType @relation(fields: [rumija_type_id], references: [id])
  RumijaKelas    RumijaKelas @relation(fields: [rumija_kelas_id], references: [id])
}

model RumijaInventaris {
  id               Int       @id @default(autoincrement())
  name             String
  ruas_id             Int
  segment_jalan       String
  lat_awal            Float
  long_awal           Float
  uptd_id             Int
  rumija_type_id      Int
  created_at      DateTime  @default(now())
  updated_at      DateTime  @updatedAt
  RumijaType      RumijaType @relation(fields: [rumija_type_id], references: [id])
  
}

model RumijaPelangaran {
  id               Int       @id @default(autoincrement())
  foto            String  
  segment_jalan       String
  lat             Float
  long            Float
  keterangan       String
  created_at      DateTime  @default(now())
  updated_at      DateTime  @updatedAt

}
